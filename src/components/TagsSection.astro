---
import type { CollectionEntry } from "astro:content";
import { TagsGroup } from "~/utils";

interface Props {
	posts: CollectionEntry<"blog">[];
}

const { posts } = Astro.props;
const tagsGroup = await TagsGroup.build(posts);
---

<ul class="flex flex-wrap gap-x-2 gap-y-2 my-5 px-3 text-xs">
  {
    tagsGroup.sortCollationsLargest().map((tag) => (
      <li>
        <a
          href={tag.url}
          class="flex items-center gap-2.5 pl-2 bg-transparent text-foreground border border-accent hover:bg-accent hover:text-background"
        >
          {tag.title}
          <span class="bg-accent text-background py-2 px-3">{tag.entries.length}</span>
        </a>
      </li>
    ))
  }
</ul>
